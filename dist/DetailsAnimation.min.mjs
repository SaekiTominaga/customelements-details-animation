var e,t,i,s,n,h,a,o,r,l,d,c,u,v,m=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},p=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};export default class w extends HTMLDetailsElement{constructor(){super(),e.set(this,!1),t.set(this,!1),i.set(this,void 0),s.set(this,null),n.set(this,void 0),h.set(this,null),a.set(this,"x-details-animation-content"),o.set(this,null),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),u.set(this,void 0),v.set(this,null),m(this,i,void 0!==this.attributeStyleMap),m(this,r,this._summaryClickEvent.bind(this)),m(this,l,this._summaryMouseEnterEvent.bind(this)),m(this,d,this._summaryMouseLeaveEvent.bind(this)),m(this,c,this._detailsContentTransitionEndEvent.bind(this)),m(this,u,this._windowResizeEvent.bind(this))}connectedCallback(){const t=this.querySelector("summary");if(null===t)throw new Error("Element <details> is missing a required instance of child element <summary>.");m(this,s,t),void 0===window.HTMLDetailsElement&&(t.tabIndex=0,this.open=null!==this.getAttribute("open"));const i=this.dataset.contentElement;if(void 0!==i){if(!i.includes("-"))throw new Error("Attribute: `data-content-element` value must contain a hyphen.");m(this,a,i)}m(this,n,this.dataset.summaryToggle);const v=document.createDocumentFragment();let w=t.nextSibling;for(;null!==w;)v.appendChild(w),w=t.nextSibling;const E=document.createElement(p(this,a));t.insertAdjacentElement("afterend",E),m(this,h,E);const g=document.createElement("div");g.slot="content",g.appendChild(v),E.appendChild(g),void 0!==window.ResizeObserver&&m(this,o,new ResizeObserver((()=>{this._detailContentResize()})));const M=this.open;m(this,e,M),M?(this._open(),null!==p(this,o)?p(this,o).observe(E):window.addEventListener("resize",p(this,u),{passive:!0})):this._close(),t.addEventListener("click",p(this,r)),t.addEventListener("mouseenter",p(this,l),{passive:!0}),t.addEventListener("mouseleave",p(this,d),{passive:!0}),E.addEventListener("transitionend",p(this,c),{passive:!0})}disconnectedCallback(){const e=p(this,s),t=p(this,h);e.removeEventListener("click",p(this,r)),e.removeEventListener("mouseenter",p(this,l)),e.removeEventListener("mouseleave",p(this,d)),t.removeEventListener("transitionend",p(this,c)),window.removeEventListener("resize",p(this,u))}_summaryClickEvent(i){i.preventDefault();const s=!p(this,e);m(this,e,s),this._toggleSummary(),!p(this,t)&&s&&(this.open=!0),s?this._open():this._close(),m(this,t,!0)}_toggleSummary(){const e=p(this,n);if(void 0!==e){const t=p(this,s);m(this,n,t.innerHTML),t.textContent="",t.insertAdjacentHTML("beforeend",e)}}_open(){const e=p(this,h);setTimeout((()=>{p(this,i)?e.attributeStyleMap.set("height",CSS.px(e.scrollHeight)):e.style.height=`${String(e.scrollHeight)}px`}),0)}_close(){const e=p(this,h);p(this,i)?e.attributeStyleMap.set("height","0"):e.style.height="0",null!==p(this,o)?p(this,o).unobserve(e):window.removeEventListener("resize",p(this,u))}_summaryMouseEnterEvent(){p(this,i)?p(this,h).attributeStyleMap.set("will-change","height"):p(this,h).style.willChange="height"}_summaryMouseLeaveEvent(){p(this,i)?p(this,h).attributeStyleMap.delete("will-change"):p(this,h).style.willChange=""}_detailsContentTransitionEndEvent(){m(this,t,!1),p(this,e)?null!==p(this,o)?p(this,o).observe(p(this,h)):window.addEventListener("resize",p(this,u),{passive:!0}):this.open=!1}_windowResizeEvent(){const e=p(this,v);null!==e&&clearTimeout(e),m(this,v,setTimeout((()=>{this._detailContentResize()}),100))}_detailContentResize(){const e=p(this,h);p(this,i)?(e.attributeStyleMap.set("height","auto"),e.attributeStyleMap.set("height",CSS.px(e.scrollHeight))):(e.style.height="auto",e.style.height=`${String(e.scrollHeight)}px`)}}e=new WeakMap,t=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,h=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,v=new WeakMap;