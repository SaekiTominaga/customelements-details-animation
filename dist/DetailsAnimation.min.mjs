var e,t,s,i,n,a,h,o,r,l,d,c,m=this&&this.__classPrivateFieldSet||function(e,t,s){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,s),s},v=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};export default class u extends HTMLDetailsElement{constructor(){super(),e.set(this,!1),t.set(this,!1),s.set(this,null),i.set(this,void 0),n.set(this,null),a.set(this,"x-animation-details-content"),h.set(this,null),o.set(this,void 0),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),m(this,o,this._summaryClickEvent.bind(this)),m(this,r,this._summaryMouseEnterEvent.bind(this)),m(this,l,this._summaryMouseLeaveEvent.bind(this)),m(this,d,this._detailsContentTransitionEndEvent.bind(this)),m(this,c,this._windowResizeEvent.bind(this))}connectedCallback(){const t=this.querySelector("summary");if(null===t)throw new Error("Element <details> is missing a required instance of child element <summary>.");m(this,s,t),void 0===window.HTMLDetailsElement&&(t.tabIndex=0,this.open=null!==this.getAttribute("open"));const h=this.dataset.contentElement;if(void 0!==h){if(!h.includes("-"))throw new Error("Attribute: `data-content-element` value must contain a hyphen.");m(this,a,h)}m(this,i,this.dataset.summaryToggle);const c=document.createDocumentFragment();let u=t.nextSibling;for(;null!==u;)c.appendChild(u),u=t.nextSibling;const p=document.createElement(v(this,a));t.insertAdjacentElement("afterend",p),m(this,n,p);const E=document.createElement("div");E.slot="content",E.appendChild(c),p.appendChild(E);const w=this.open;m(this,e,w),w?this._open():this._close(),t.addEventListener("click",v(this,o)),t.addEventListener("mouseenter",v(this,r),{passive:!0}),t.addEventListener("mouseleave",v(this,l),{passive:!0}),p.addEventListener("transitionend",v(this,d),{passive:!0})}disconnectedCallback(){const e=v(this,s),t=v(this,n);e.removeEventListener("click",v(this,o)),e.removeEventListener("mouseenter",v(this,r)),e.removeEventListener("mouseleave",v(this,l)),t.removeEventListener("transitionend",v(this,d)),window.removeEventListener("resize",v(this,c))}_summaryClickEvent(s){s.preventDefault();const i=!v(this,e);m(this,e,i),this._toggleSummary(),!v(this,t)&&i&&(this.open=!0),i?this._open():this._close(),m(this,t,!0)}_toggleSummary(){const e=v(this,i);if(void 0!==e){const t=v(this,s);m(this,i,t.innerHTML),t.textContent="",t.insertAdjacentHTML("beforeend",e)}}_open(){setTimeout((()=>{v(this,n).style.height=`${String(v(this,n).scrollHeight)}px`}),0),window.addEventListener("resize",v(this,c),{passive:!0})}_close(){v(this,n).style.height="0",window.removeEventListener("resize",v(this,c))}_summaryMouseEnterEvent(){v(this,n).style.willChange="height"}_summaryMouseLeaveEvent(){v(this,n).style.willChange=""}_detailsContentTransitionEndEvent(){m(this,t,!1),v(this,e)||(this.open=!1)}_windowResizeEvent(){const e=v(this,h);null!==e&&clearTimeout(e),m(this,h,setTimeout((()=>{const e=v(this,n);e.style.height="auto",e.style.height=`${String(e.scrollHeight)}px`}),100))}}e=new WeakMap,t=new WeakMap,s=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,h=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap;