var t,e,i,s,n,h,a,o,r,l,d,c,u,m=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},v=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class p extends HTMLDetailsElement{constructor(){super(),t.set(this,!1),e.set(this,!1),i.set(this,void 0),s.set(this,null),n.set(this,void 0),h.set(this,null),a.set(this,"x-details-animation-content"),o.set(this,null),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),u.set(this,void 0),m(this,i,void 0!==this.attributeStyleMap),m(this,r,this._summaryClickEvent.bind(this)),m(this,l,this._summaryMouseEnterEvent.bind(this)),m(this,d,this._summaryMouseLeaveEvent.bind(this)),m(this,c,this._detailsContentTransitionEndEvent.bind(this)),m(this,u,this._windowResizeEvent.bind(this))}connectedCallback(){const e=this.querySelector("summary");if(null===e)throw new Error("Element <details> is missing a required instance of child element <summary>.");m(this,s,e),void 0===window.HTMLDetailsElement&&(e.tabIndex=0,this.open=null!==this.getAttribute("open"));const i=this.dataset.contentElement;if(void 0!==i){if(!i.includes("-"))throw new Error("Attribute: `data-content-element` value must contain a hyphen.");m(this,a,i)}m(this,n,this.dataset.summaryToggle);const o=document.createDocumentFragment();let u=e.nextSibling;for(;null!==u;)o.appendChild(u),u=e.nextSibling;const p=document.createElement(v(this,a));e.insertAdjacentElement("afterend",p),m(this,h,p);const w=document.createElement("div");w.slot="content",w.appendChild(o),p.appendChild(w);const E=this.open;m(this,t,E),E?this._open():this._close(),e.addEventListener("click",v(this,r)),e.addEventListener("mouseenter",v(this,l),{passive:!0}),e.addEventListener("mouseleave",v(this,d),{passive:!0}),p.addEventListener("transitionend",v(this,c),{passive:!0})}disconnectedCallback(){const t=v(this,s),e=v(this,h);t.removeEventListener("click",v(this,r)),t.removeEventListener("mouseenter",v(this,l)),t.removeEventListener("mouseleave",v(this,d)),e.removeEventListener("transitionend",v(this,c)),window.removeEventListener("resize",v(this,u))}_summaryClickEvent(i){i.preventDefault();const s=!v(this,t);m(this,t,s),this._toggleSummary(),!v(this,e)&&s&&(this.open=!0),s?this._open():this._close(),m(this,e,!0)}_toggleSummary(){const t=v(this,n);if(void 0!==t){const e=v(this,s);m(this,n,e.innerHTML),e.textContent="",e.insertAdjacentHTML("beforeend",t)}}_open(){setTimeout((()=>{v(this,i)?v(this,h).attributeStyleMap.set("height",CSS.px(v(this,h).scrollHeight)):v(this,h).style.height=`${String(v(this,h).scrollHeight)}px`}),0),window.addEventListener("resize",v(this,u),{passive:!0})}_close(){v(this,i)?v(this,h).attributeStyleMap.set("height","0"):v(this,h).style.height="0",window.removeEventListener("resize",v(this,u))}_summaryMouseEnterEvent(){v(this,i)?v(this,h).attributeStyleMap.set("will-change","height"):v(this,h).style.willChange="height"}_summaryMouseLeaveEvent(){v(this,i)?v(this,h).attributeStyleMap.delete("will-change"):v(this,h).style.willChange=""}_detailsContentTransitionEndEvent(){m(this,e,!1),v(this,t)||(this.open=!1)}_windowResizeEvent(){const t=v(this,o);null!==t&&clearTimeout(t),m(this,o,setTimeout((()=>{const t=v(this,h);v(this,i)?(t.attributeStyleMap.set("height","auto"),t.attributeStyleMap.set("height",CSS.px(t.scrollHeight))):(t.style.height="auto",t.style.height=`${String(t.scrollHeight)}px`)}),100))}}t=new WeakMap,e=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,h=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap;