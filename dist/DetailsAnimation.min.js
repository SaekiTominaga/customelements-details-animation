var t,e,i,s,n,h,a,l,o=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},r=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class d extends HTMLDetailsElement{constructor(){super(),t.set(this,void 0),e.set(this,null),i.set(this,{duration:500,easing:"ease"}),s.set(this,null),n.set(this,null),h.set(this,null),a.set(this,null),l.set(this,void 0),o(this,t,void 0!==this.attributeStyleMap),o(this,l,this._summaryClickEvent.bind(this))}connectedCallback(){const e=this.querySelector("summary");if(null===e)throw new Error("Element <details> is missing a required instance of child element <summary>.");o(this,s,e),void 0===window.HTMLDetailsElement&&(e.tabIndex=0,this.open=null!==this.getAttribute("open")),this.dataset.preOpen=String(this.open);const a=this.dataset.duration;void 0!==a&&(r(this,i).duration=Number(a));const d=this.dataset.easing;void 0!==d&&(r(this,i).easing=d),o(this,n,this.dataset.summaryToggle??null);const c=document.createDocumentFragment();let p=e.nextSibling;for(;null!==p;)c.appendChild(p),p=e.nextSibling;const u=document.createElement("div");r(this,t)?u.attributeStyleMap.set("overflow","hidden"):u.style.overflow="hidden",u.appendChild(c),e.insertAdjacentElement("afterend",u),o(this,h,u),e.addEventListener("click",r(this,l))}disconnectedCallback(){r(this,s).removeEventListener("click",r(this,l))}_summaryClickEvent(i){i.preventDefault();const s="true"!==this.dataset.preOpen;if(this.dataset.preOpen=String(s),this._toggleSummaryText(),"running"===r(this,e)?.playState){const i=r(this,h),s=i.offsetHeight;r(this,t)?i.attributeStyleMap.set("height",CSS.px(s)):i.style.height=`${s}px`,r(this,e).cancel()}s?this._open():this._close()}_toggleSummaryText(){const t=r(this,n);if(null!==t){const e=r(this,s);o(this,n,e.innerHTML),e.innerHTML=t}}_open(){const s=r(this,h),n=s.offsetHeight;this.open=!0;const l=r(this,a)??s.offsetHeight;o(this,e,s.animate({height:[`${n}px`,`${l}px`]},r(this,i))),r(this,e).onfinish=()=>{o(this,a,s.offsetHeight),r(this,t)?s.attributeStyleMap.delete("height"):s.style.height=""}}_close(){const s=r(this,h),n=s.offsetHeight;o(this,a,n),o(this,e,s.animate({height:[`${n}px`,"0px"]},r(this,i))),r(this,e).onfinish=()=>{this.open=!1,o(this,a,null),r(this,t)?s.attributeStyleMap.delete("height"):s.style.height=""}}}t=new WeakMap,e=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,h=new WeakMap,a=new WeakMap,l=new WeakMap;
//# sourceMappingURL=DetailsAnimation.min.js.map