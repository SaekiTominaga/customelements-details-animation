var e,t,i,s,n,h,a,o,r,l,d,c,v,u,p=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},m=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};export default class w extends HTMLDetailsElement{constructor(){super(),e.set(this,!1),t.set(this,!1),i.set(this,void 0),s.set(this,null),n.set(this,void 0),h.set(this,null),a.set(this,"x-details-animation-content"),o.set(this,null),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),v.set(this,void 0),u.set(this,null),p(this,i,void 0!==this.attributeStyleMap),p(this,r,this._summaryClickEvent.bind(this)),p(this,l,this._summaryMouseEnterEvent.bind(this)),p(this,d,this._summaryMouseLeaveEvent.bind(this)),p(this,c,this._detailsContentTransitionEndEvent.bind(this)),p(this,v,this._windowResizeEvent.bind(this))}connectedCallback(){const t=this.querySelector("summary");if(null===t)throw new Error("Element <details> is missing a required instance of child element <summary>.");p(this,s,t),void 0===window.HTMLDetailsElement&&(t.tabIndex=0,this.open=null!==this.getAttribute("open"));const i=this.dataset.contentElement;if(void 0!==i){if(!i.includes("-"))throw new Error("Attribute: `data-content-element` value must contain a hyphen.");p(this,a,i)}p(this,n,this.dataset.summaryToggle);const u=document.createDocumentFragment();let w=t.nextSibling;for(;null!==w;)u.appendChild(w),w=t.nextSibling;const E=document.createElement(m(this,a));t.insertAdjacentElement("afterend",E),p(this,h,E);const g=document.createElement("div");g.slot="content",g.appendChild(u),E.appendChild(g),void 0!==window.ResizeObserver&&p(this,o,new ResizeObserver((()=>{this._detailContentResize()})));const M=this.open;p(this,e,M),M?(this._open(),null!==m(this,o)?m(this,o).observe(E):window.addEventListener("resize",m(this,v),{passive:!0})):this._close(),t.addEventListener("click",m(this,r)),t.addEventListener("mouseenter",m(this,l),{passive:!0}),t.addEventListener("mouseleave",m(this,d),{passive:!0}),E.addEventListener("transitionend",m(this,c),{passive:!0})}disconnectedCallback(){const e=m(this,s),t=m(this,h);e.removeEventListener("click",m(this,r)),e.removeEventListener("mouseenter",m(this,l)),e.removeEventListener("mouseleave",m(this,d)),t.removeEventListener("transitionend",m(this,c)),window.removeEventListener("resize",m(this,v))}_summaryClickEvent(i){i.preventDefault();const s=!m(this,e);p(this,e,s),this._toggleSummary(),!m(this,t)&&s&&(this.open=!0),s?this._open():this._close(),p(this,t,!0)}_toggleSummary(){const e=m(this,n);if(void 0!==e){const t=m(this,s);p(this,n,t.innerHTML),t.textContent="",t.insertAdjacentHTML("beforeend",e)}}_open(){const e=m(this,h);m(this,i)?e.attributeStyleMap.set("height",CSS.px(e.scrollHeight)):e.style.height=`${String(e.scrollHeight)}px`}_close(){const e=m(this,h);m(this,i)?e.attributeStyleMap.set("height","0"):e.style.height="0",null!==m(this,o)?m(this,o).unobserve(e):window.removeEventListener("resize",m(this,v))}_summaryMouseEnterEvent(){m(this,i)?m(this,h).attributeStyleMap.set("will-change","height"):m(this,h).style.willChange="height"}_summaryMouseLeaveEvent(){m(this,i)?m(this,h).attributeStyleMap.delete("will-change"):m(this,h).style.willChange=""}_detailsContentTransitionEndEvent(){p(this,t,!1),m(this,e)?null!==m(this,o)?m(this,o).observe(m(this,h)):window.addEventListener("resize",m(this,v),{passive:!0}):this.open=!1}_windowResizeEvent(){const e=m(this,u);null!==e&&clearTimeout(e),p(this,u,setTimeout((()=>{this._detailContentResize()}),100))}_detailContentResize(){const e=m(this,h);m(this,i)?(e.attributeStyleMap.set("height","auto"),e.attributeStyleMap.set("height",CSS.px(e.scrollHeight))):(e.style.height="auto",e.style.height=`${String(e.scrollHeight)}px`)}}e=new WeakMap,t=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,h=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,v=new WeakMap,u=new WeakMap;
//# sourceMappingURL=DetailsAnimation.min.js.map