var t,e,i,s,n,h,a,o=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},l=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class r extends HTMLDetailsElement{constructor(){super(),t.set(this,null),e.set(this,{duration:500,easing:"ease"}),i.set(this,void 0),s.set(this,null),n.set(this,void 0),h.set(this,null),a.set(this,void 0),o(this,i,void 0!==this.attributeStyleMap),o(this,a,this._summaryClickEvent.bind(this))}connectedCallback(){const t=this.querySelector("summary");if(null===t)throw new Error("Element <details> is missing a required instance of child element <summary>.");o(this,s,t),void 0===window.HTMLDetailsElement&&(t.tabIndex=0,this.open=null!==this.getAttribute("open")),this.dataset.preOpen=String(this.open);const r=this.dataset.duration;void 0!==r&&(l(this,e).duration=Number(r));const d=this.dataset.easing;void 0!==d&&(l(this,e).easing=d),o(this,n,this.dataset.summaryToggle),l(this,i)?this.attributeStyleMap.set("overflow","hidden"):this.style.overflow="hidden";const p=document.createDocumentFragment();let c=t.nextSibling;for(;null!==c;)p.appendChild(c),c=t.nextSibling;const u=document.createElement("div");l(this,i)?u.attributeStyleMap.set("display","flex"):u.style.display="flex",u.appendChild(p),t.insertAdjacentElement("afterend",u),o(this,h,u),t.addEventListener("click",l(this,a))}disconnectedCallback(){l(this,s).removeEventListener("click",l(this,a))}_summaryClickEvent(e){e.preventDefault();const s="true"!==this.dataset.preOpen;if(this.dataset.preOpen=String(s),this._toggleSummaryText(),"running"===l(this,t)?.playState){const e=this.offsetHeight;l(this,i)?this.attributeStyleMap.set("height",CSS.px(e)):this.style.height=`${e}px`,l(this,t).cancel()}s?this._open():this._close()}_toggleSummaryText(){const t=l(this,n);if(void 0!==t){const e=l(this,s);o(this,n,e.innerHTML),e.innerHTML=t}}_open(){const n=this.offsetHeight;this.open=!0;const a=l(this,s).offsetHeight,r=l(this,h).offsetHeight;o(this,t,this.animate({height:[`${n}px`,`${a+r}px`]},l(this,e))),l(this,t).onfinish=()=>{l(this,i)?this.attributeStyleMap.delete("height"):this.style.height=""}}_close(){const n=this.offsetHeight,h=l(this,s).offsetHeight;o(this,t,this.animate({height:[`${n}px`,`${h}px`]},l(this,e))),l(this,t).onfinish=()=>{this.open=!1,l(this,i)?this.attributeStyleMap.delete("height"):this.style.height=""}}}t=new WeakMap,e=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,h=new WeakMap,a=new WeakMap;
//# sourceMappingURL=DetailsAnimation.min.js.map