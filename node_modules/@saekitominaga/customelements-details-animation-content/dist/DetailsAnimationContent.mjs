/**
 * Content excluding <summary> element in the <details> element that animates opening or closing process
 *
 * @example
 * <details>
 *   <summary>Caption Text</summary>
 *   <x-animation-details-content>
 *     <div slot="content">
 *       <p>Contents text</p>
 *     </div>
 *   </x-animation-details-content>
 * </details>
 *
 * @version 1.0.0
 */
export default class DetailsAnimationContent extends HTMLElement {
    constructor() {
        super();
        const cssString = `
			:host {
				--details-content-transition-duration: .5s;
				--details-content-transition-timing-function: ease;
				--details-content-transition-delay: 0s;

				display: block;
				overflow-y: hidden;
				transition: height var(--details-content-transition-duration) var(--details-content-transition-timing-function) var(--details-content-transition-delay);
			}
		`;
        const shadow = this.attachShadow({ mode: 'open' });
        shadow.innerHTML = `
			<slot name="content"></slot>
		`;
        if (shadow.adoptedStyleSheets !== undefined) {
            const cssStyleSheet = new CSSStyleSheet();
            cssStyleSheet.replaceSync(cssString);
            shadow.adoptedStyleSheets = [cssStyleSheet];
        }
        else {
            /* adoptedStyleSheets 未対応環境 */
            shadow.innerHTML += `<style>${cssString}</style>`;
        }
    }
}
